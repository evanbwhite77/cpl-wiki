## Introduction

The [Open Science Framework (OSF)](https://osf.io/) is a research
repository designed to increase reproducibility and transparency and
reduce publication bias in scientific research. OSF provides tools and a
platform to register, document and archive research projects and planned
analyses. CPL\'s policy is to register projects that involve hypothesis
testing. Registration on OSF is also a requirement of our funder [Arnold
Ventures](https://www.arnoldventures.org/). As of February 2021, we have
a CPL institution profile on OSF: [CPL
OSF](https://osf.io/institutions/capolicylab/).

**Projects that should be registered on OSF:** Those that seek to create
generalizable knowledge through the use of experimental or
quasi-experimental designs.

-   **Project records** are the summary page outlining the purpose of
    the study and linking to the pre-registration, and must be created
    before a study is pre-registered. Creating a project in OSF allows
    researchers and research teams to document and archive study
    designs, materials (such as consent forms, analytic code, and survey
    instruments), and data. It also facilitates collaboration across
    research sites, increases research transparency, and helps
    disseminate results among a large and active research community.
-   **Registrations** are frozen, non-editable snapshots of your OSF
    project at a given point during the research cycle. A
    **pre-registration** is a type of registration that lays out your
    research plan prior to conducting the research, and is **required
    for most CPL research projects.** You will be able to continue
    working on the original project, and the non-editable registered
    snapshots will remain linked to it.

CPL\'s project records and pre-registrations are housed on our [OSF
institution page](https://osf.io/institutions/capolicylab/). If your
project or pre-registration isn\'t showing here, please contact Anna
Doherty at CPL Berkeley (or add anna\@capolicylab.org as a contributor
to your project) who can add the \"CPL\" affiliation to your project.

**Projects that do not need to be registered on OSF:** Projects that
consist solely of non-experimental, non-generalizable technical
assistance conducted at the request of a data owner (such as a city,
county, or state agency) do not need to be posted. Occasionally an
agency partner will ask us to conduct research that goes beyond
technical assistance, and requests that the analyses be conducted
confidentially. In these cases we are willing to make exceptions to our
requirement that projects be pre-registered, though our first preference
would be to try to pre-register the project with details left vague,
rather than not pre-register at all. If you think an exception is
appropriate in your case, please discuss this with Evan White at UC
Berkeley or Janey Rountree at UCLA.

## Creating OSF project records and pre-registrations {#creating_osf_project_records_and_pre_registrations}

**How to create OSF project records and pre-registrations**

-   **At the start of a project:** Use CPL\'s Project Plan Template to
    describe the research project - Detail is provided in the
    [preliminary project
    plan](https://www.wiki.capolicylab.org/index.php?title=OSF#Preliminary_Project_Plan_Template)
    section below, and a template can be downloaded from [CPL\'s Google
    Drive
    here](https://docs.google.com/document/d/1XN8WbWskCzzu0tuZVs570oAHN3UYD_8w/edit).
    You can find examples of completed plans
    [here](https://osf.io/institutions/capolicylab/).

```{=html}
<!-- -->
```
-   **Create an OSF user account:** The researcher (PI, Postdoctoral
    Scholar, Research Manager or Research Associate) should register for
    an [OSF account](https://osf.io/) if they don\'t already have one.
    If you have an \@capolicylab.org email address, link this to your
    account so that you can add CPL affiliation to the project.
    Otherwise email annadoherty\@berkeley.edu about CPL affiliation for
    your project.

```{=html}
<!-- -->
```
-   **Prepare your registration:** Review the fields of the OSF
    Pre-registration form ([see a copy
    here](https://docs.google.com/document/d/1OJSZ1koWV79bVRquB_qu5B7s3siQuFG5m3Dl-ddIFb8/edit#heading=h.432yliadkhqf))
    so that you are ready to answer these when you pre-register- for
    those that do not apply, you can answer NA or leave blank.

```{=html}
<!-- -->
```
-   **Create a new project record:** Go to *My Projects > Create
    Project* to start a new project record. Make sure you add all the
    affiliated researchers and staff, and that whoever needs to edit the
    record has "administrator" status.

```{=html}
<!-- -->
```
-   **Uploading Files: Project plan:** Upload your completed [Project
    Plan](https://docs.google.com/document/d/1XN8WbWskCzzu0tuZVs570oAHN3UYD_8w/edit)
    to the Files section.

```{=html}
<!-- -->
```
-   **Uploading Files: Copyright license:** Upload [this
    license](https://creativecommons.org/licenses/by-nc-nd/4.0/legalcode)
    as a .txt file.

```{=html}
<!-- -->
```
-   **Summarize the project in the Wiki section:** Provide a high level
    summary of the project in the Wiki [see an example
    here](https://osf.io/w7j9d/).

```{=html}
<!-- -->
```
-   **Make CPL the affiliated organization:** Under *Settings > Project
    Affiliation / Branding* add CPL as the affiliated organization. If
    you don\'t have the option to do this, add anna\@capolicylab.org as
    an editing contributor to your project to do this.

```{=html}
<!-- -->
```
-   **Create a standard pre-registration:** Once you have created a
    project record, you can create a new standard OSF pre-registration.
    Complete the fields of the Pre-Registration form - for those that do
    not apply, you can answer NA or leave blank.

```{=html}
<!-- -->
```
-   **Final review and publish:** Ensure any authors / PIs have a chance
    to review before you publish. Newly created projects are kept
    private until a project administrator makes the project public.

```{=html}
<!-- -->
```
-   **Record the project link on the CPL Project Tracker:** Once the
    project record and registration is finalized, please update columns
    R and S in the [CPL Project
    Tracker](https://docs.google.com/spreadsheets/d/1r-jutCSUckSCqB3APhobtgOmjxI3Mi2vKlQ0sAycOGg/edit#gid=0)
    so that we have a record.

```{=html}
<!-- -->
```
-   **Set a reminder for future requirements:** Set a calendar reminder
    for yourself and your team for any deadlines or requirements to
    upload reports and publications. For example, one of CPL\'s major
    funders [Arnold Ventures](https://www.arnoldventures.org/) requires
    that reports or publications be added to project records within one
    year of data collection ending, or from the date data was made
    available. Read more on this below under [Additional requirements to
    promote
    reproducibility](https://www.wiki.capolicylab.org/index.php?title=OSF#Additional_requirements_to_promote_reproducibility)

**When to create a record on OSF**

-   **Before any data collection or analysis begins:** If the OSF
    project meets CPL's registration requirements, it should be
    registered before any data collection or analysis begins.
    Pre-registration ensures that we have a public record of all the
    research projects we attempt, not just those that are successful. In
    the case that we are working with an agency already collecting the
    data as we design the project, ensure registration occurs before CPL
    receive any outcome data. Records can be updated if the project
    evolves.

**Who is responsible**

-   An OSF record and preliminary project can be developed by a PI
    including Postdoctoral Scholars, Research Managers or Research
    Associates. It is expected that PIs and all staff will provide input
    to their project teams to develop preliminary project plans and
    pre-analysis plans (if comprehensive pre-registration) as a first
    step to every CPL research project.

**Further considerations**

-   After a project record is made public it can be moved back and forth
    between the two settings as desired. Both public and private
    projects can be deleted at any time. However, once a
    *pre-registration* is public it cannot be made private again.
    Pre-registrations can be withdrawn, which will remove the content
    from the public record, but OSF users will be able to see that a
    registration was created and withdrawn.
-   A CPL research project can be linked to one or several OSF projects.
    In general, CPL's preference is to create a single OSF project for
    each distinct investigation. For example, Jesse Rothstein's Letters
    of Recommendation study for UC Berkeley is one OSF project; a
    follow-up study that uses the same data to examine another set of
    questions would get its own OSF project and pre-registration.
-   While OSF is the preference for CPL, it's also worth checking if the
    funder(s) of your particular project has any specific requirements.
    For example, the Institute of Education Sciences specifies OSF as
    one acceptable platform for pre-registration, but there is also the
    Registry of Efficacy and Effectiveness Studies (REES),
    ClinicalTrials.gov, AEA Registry, EGAP, AsPredicted, and trial
    registries in the WHO Registry Network.

Additional pre-analysis resources and templates can be found
[here.](http://www.bitss.org/resource-tag/pre-analysis-plans/)

## Re-Registering ongoing projects {#re_registering_ongoing_projects}

If the scope of a pre-registered project changes, such that the initial
registration no longer accurately describes the project, a new
registration should be submitted to OSF. For example, an RCT that has a
"comprehensive" pre-registration including a pre-analysis plan might be
re-registered after randomization has been completed with realized
sample sizes, along with a discussion of any changes in the analysis
plan. Similarly, a pre-registration with a "limited" project plan can be
updated as the researcher gains the data familiarity needed to complete
an "expanded" project plan.

To re-register a project, simply complete a new registration form with
any and all changes, making sure to indicate whether data collection or
analysis has begun. Both registrations will remain associated with the
project on the OSF site.

## Additional requirements to promote reproducibility {#additional_requirements_to_promote_reproducibility}

CPL requires that publications, replication Code, and data be added to
OSF project records as part of our commitment to reproducibility and as
part of our requirements under funding from [Arnold
Ventures](https://www.arnoldventures.org/).

-   **Publications and reports:** The final report or publication
    (including academic papers, CPL reports and policy briefs,
    powerpoint decks or memos to agency staff) should be added to the
    project's OSF page within one year of the end of data collection.
    For projects that do not involve new data collection, the deadline
    is one year from the date that all data specified in the
    pre-registration become available to the researcher or that the
    project is initiated. If no reports or publications are available at
    the end of one year, the OSF page should be updated to include a
    textual description of the findings, or the status of the analyses
    and a timeline for completion. Please set a calendar reminder for
    yourself and your project team. *Documents that are not approved for
    public release should not be posted on OSF, or should be posted in a
    manner that is appropriately circumspect (e.g., by shielding the
    identity of the partner) -- consult with CPL staff in this case.*

```{=html}
<!-- -->
```
-   **Replication code:** As part of our commitment to reproducibility
    of our results, CPL will post replication code (generated in SAS,
    STATA, R, Python or elsewhere) along with our publications whenever
    possible. All code necessary for a future user, with access to the
    data on the CPL Hub, to go from the original data to the published
    results should be included. It is therefore important never to
    include direct references in the code to **any** personally
    identifiable information - such as names, student id's, or social
    security numbers - as the programs may eventually become public. If
    this is constraining, CPL has strategies for working around it; talk
    to PIs and leadership for advice. Alternatively, the OSF record may
    link to [CPL\'s GitHub
    profile](https://github.com/californiapolicylab). Code should be
    posted within one year of the publication date of the final project
    report.

```{=html}
<!-- -->
```
-   **Datasets and Other Study Materials:** As most of our work relies
    on non-public data, in most cases the replication materials we
    distribute **will not** include the actual data used in our
    analyses. However, where some of the data components or other study
    materials can be made publicly available (e.g., an assignment of
    counties or schools to treatment or control status, survey
    instruments, and/or sample materials), without running afoul of
    privacy laws, IRB requirements, and/or agreements with data owners,
    these should be posted to the OSF project webpage within one year of
    the publication date of the final project report.

## Project Plan Template {#project_plan_template}

Early in the development of a CPL project, CPL asks PIs to write up a
short description of the project to be undertaken. A template for this
document is here [CPL Project Plan
Template](https://docs.google.com/document/d/1XN8WbWskCzzu0tuZVs570oAHN3UYD_8w/edit).
Developing a project plan helps us allocate CPL staff and resources, and
also helps us meet our commitment to research transparency. PIs are
expected to update these descriptions as projects evolve.

There are three types of project plans, depending on the stage of the
project:

**(1) Limited:** Appropriate in cases where the researchers at the
outset are not deeply familiar with the administrative dataset that they
intend to use for their study. Limited project plans consist only of the
12 required elements. Most early CPL projects will fall in this
category.

**(2) Expanded:** Other projects will be more developed at the outset,
with a clear plan for the research design, data elements, hypotheses,
and sample sizes, as well as prior CPL or researcher familiarity with
the dataset(s) that will be used. In these cases, include all the
required elements along with as many of the optional questions as can be
answered.

**(3) Comprehensive:** Where a complete pre-analysis plan is possible,
such as in randomized control trials or in observational research
designs that are established before data are collected, the researcher
should complete all the required and optional elements below.

**Minimal required elements:** Project descriptions should include the
following twelve elements, ideally as a list for the sake of
consistency, or in a brief abstract:

**1. Study title**

**2. Principal investigator** (with name, affiliation, and Open
Researcher and Contributor ID (ORCID) if available)

**3. Co-investigators** (with names, affiliations, and ORCIDs if
available)

**4. Partner agencies** (i.e., LAPD, DCFS, DOE, etc) and points of
contact (including contact information)

**5. Geographic location of study**

**6. Keyword(s)**

**7. Overview / abstract**

**8. Projected timeline** for the study (start date and end date of
funding; start date and end of intervention and/or data collection; and
any other significant events).

**9. Other funding:** Identify any other sources of funding.

**10. Institutional Review Board (IRB):** Identify details about IRB
approval (date of approval, identity, and address of IRB).

**11. Hypotheses/research questions:** Describe the specific hypothesis
or hypotheses that will be tested in the study.

**12. Outcomes:** Define your study's primary outcome(s) as completely
as possible, including how and when they will be assessed. Do the same
for any secondary outcomes.

**13. Data Sources:** a brief description of the data sources and the
types of data required. Provide as much detail as available.

**Additional elements:** These elements should be included if the
information is available. They are strongly encouraged for expanded
project plans, and required for comprehensive project plans.

**14. Intervention/policy:** Describe the intervention or policy being
tested, in as much detail as is feasible.

**15. RCT-specific considerations:** If the study is an RCT, please
provide the following:

:   **a.** Describe the level of randomization and the level at which
    the outcome data will be collected.

```{=html}
<!-- -->
```

:   **b.** Describe any further details about the randomization and
    design. This might include allocation ratio and probability of
    assignment to each condition, use of factorial designs, blocking or
    stratification, matched

pair randomization, etc.

:   **c.** Describe who, if anyone, will be blinded after random
    assignment (such as participants, providers, anyone assessing
    outcomes, or the research team themselves), and how.

```{=html}
<!-- -->
```

:   **d.** Describe the control condition(s). For example, if there will
    be one control group that is "business as usual," describe what that
    looks like. If you will add an additional "active control" group,
    describe that active control condition and how it will accurately
    estimate a placebo/expectancy effect without contamination by an
    actual treatment effect.

```{=html}
<!-- -->
```

:   **e.** Describe any inclusion or exclusion criteria.

**16. Detailed data source description:** Describe the data source(s) in
detail.

:   **a.** For studies involving existing datasets, provide a
    description of those datasets, including where they are available,
    what years they cover, and the settings/locations where the data
    were collected. If possible, link to the datasets and a codebook
    and/or data dictionary, ideally using a [DOI
    number](https://www.doi.org/) if available.

```{=html}
<!-- -->
```

:   **b.** For studies involving the collection of new data, describe
    the settings/locations where data will be collected, the time
    period(s) for recruitment, the time period(s) for data collection,
    the time period(s) for follow-up, the specifics on all data that you
    plan to collect, and the procedures that will be used to ensure data
    confidentiality, provenance, and quality. Plan ahead to create a
    codebook and/or data dictionary that would be usable by outside
    researchers.

**17. Sample size and statistical power:** We prefer that you begin by
defining the smallest effect size that would make any real-world
difference. Then determine the necessary sample size to detect this
effect, or compare to the minimum effect that will be detectible
(assuming at least 80% power and an alpha level of 0.05) given the
sample size that will be used in the study. If any clustering is
involved, please be sure to account for this, and describe how the
intra-cluster correlation coefficient was determined. Lastly, provide
the code (e.g., in Stata or R) used to determine power or a detailed
description of the specific module and design parameters used to
calculate power in other programs (e.g., [Optimal
Design](http://hlmsoft.net/od/) or
[PowerUP!](https://www.tandfonline.com/doi/abs/10.1080/19345747.2012.673143)).
Monte Carlo simulations are fine (indeed preferable) for many study
designs that may not have a clean analytical solution.

**18. Statistical methods:** Describe the statistical methods that are
intended to be used. For example:

:   **a.** For RCTs:

```{=html}
<!-- -->
```

:

    :   **i.** Describe how you will test balance between treatment and
        control groups.

```{=html}
<!-- -->
```

:

    :   **ii.** Plan to use an intent-to-treat analysis as an initial
        (if not the primary) analysis, but indicate whether you plan to
        use randomization as an instrument to get the local average
        treatment effect, or perform some other analysis that differs
        from intent-to-treat.

```{=html}
<!-- -->
```

:

    :   **iii.** If you plan to add control variables to increase
        precision of the estimates, or to account for stratification,
        blocking, or pair matching, indicate (if possible) what those
        will be.

```{=html}
<!-- -->
```

:

    :   **iv.** Indicate whether you plan to perform any interim
        analysis of the outcomes before the trial is concluded, and if
        so, exactly when that will occur and based on what criteria.

```{=html}
<!-- -->
```

:

    :   **v.** Indicate whether you will use permutation, multiple
        imputation, or other sensitivity tests.

```{=html}
<!-- -->
```

:   **b.** For regression discontinuity:

```{=html}
<!-- -->
```

:

    :   **i.** Describe the running variable, where the cutoff or
        threshold occurs, and how you will choose the appropriate
        bandwidth and functional form.

```{=html}
<!-- -->
```

:

    :   **ii.** Describe how you will test the validity of the RDD

```{=html}
<!-- -->
```

:

    :   **iii.** Describe your planned model in as much detail as
        possible, including control variables to be used, and
        sensitivity checks of the results.